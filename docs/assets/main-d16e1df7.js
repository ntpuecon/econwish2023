import{g as _,a as z,s as v,B as ve,_ as l,r as m,b as O,u as we,c as Q,j as f,d as r,e as B,f as k,h as T,i as j,k as le,T as q,l as ce,m as H,n as te,o as ke,p as Ce,q as D,I as de,t as xe,v as ye,w as Se,C as K,S as ue,x as U,y as $e,z as Re,A as J,G as Fe,D as Ne,E as Be,F as Pe,H as Ie,J as Me,K as Le,R as _e}from"./700-76f3f0c8.js";import{C as ze,a as Oe}from"./CardContent-c91a0af8.js";import{B as Te}from"./Button-53b82daf.js";function Ae(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Ue(e){return parseFloat(e)}function qe(e){return _("PrivateSwitchBase",e)}z("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ee=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],je=e=>{const{classes:t,checked:o,disabled:a,edge:n}=e,s={root:["root",o&&"checked",a&&"disabled",n&&`edge${k(n)}`],input:["input"]};return T(s,qe,t)},De=v(ve)(({ownerState:e})=>l({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Ge=v("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ve=m.forwardRef(function(t,o){const{autoFocus:a,checked:n,checkedIcon:s,className:i,defaultChecked:u,disabled:c,disableFocusRipple:p=!1,edge:h=!1,icon:d,id:b,inputProps:C,inputRef:G,name:V,onBlur:R,onChange:P,onFocus:F,readOnly:A,required:W=!1,tabIndex:I,type:x,value:N}=t,S=O(t,Ee),[$,he]=we({controlled:n,default:!!u,name:"SwitchBase",state:"checked"}),y=Q(),me=w=>{F&&F(w),y&&y.onFocus&&y.onFocus(w)},ge=w=>{R&&R(w),y&&y.onBlur&&y.onBlur(w)},fe=w=>{if(w.nativeEvent.defaultPrevented)return;const ee=w.target.checked;he(ee),P&&P(w,ee)};let M=c;y&&typeof M>"u"&&(M=y.disabled);const be=x==="checkbox"||x==="radio",X=l({},t,{checked:$,disabled:M,disableFocusRipple:p,edge:h}),Z=je(X);return f(De,l({component:"span",className:B(Z.root,i),centerRipple:!0,focusRipple:!p,disabled:M,tabIndex:null,role:void 0,onFocus:me,onBlur:ge,ownerState:X,ref:o},S,{children:[r(Ge,l({autoFocus:a,checked:n,defaultChecked:u,className:Z.input,disabled:M,id:be?b:void 0,name:V,onChange:fe,readOnly:A,ref:G,required:W,ownerState:X,tabIndex:I,type:x},x==="checkbox"&&N===void 0?{}:{value:N},C)),$?s:d]}))}),We=Ve;function Xe(e){return _("MuiFormControlLabel",e)}const He=z("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),L=He,Ke=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Je=e=>{const{classes:t,disabled:o,labelPlacement:a,error:n,required:s}=e,i={root:["root",o&&"disabled",`labelPlacement${k(a)}`,n&&"error",s&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",n&&"error"]};return T(i,Xe,t)},Qe=v("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${L.label}`]:t.label},t.root,t[`labelPlacement${k(o.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>l({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${L.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${L.label}`]:{[`&.${L.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Ye=v("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${L.error}`]:{color:(e.vars||e).palette.error.main}})),Ze=m.forwardRef(function(t,o){var a,n;const s=j({props:t,name:"MuiFormControlLabel"}),{className:i,componentsProps:u={},control:c,disabled:p,disableTypography:h,label:d,labelPlacement:b="end",required:C,slotProps:G={}}=s,V=O(s,Ke),R=Q(),P=(a=p??c.props.disabled)!=null?a:R==null?void 0:R.disabled,F=C??c.props.required,A={disabled:P,required:F};["checked","name","onChange","value","inputRef"].forEach($=>{typeof c.props[$]>"u"&&typeof s[$]<"u"&&(A[$]=s[$])});const W=le({props:s,muiFormControl:R,states:["error"]}),I=l({},s,{disabled:P,labelPlacement:b,required:F,error:W.error}),x=Je(I),N=(n=G.typography)!=null?n:u.typography;let S=d;return S!=null&&S.type!==q&&!h&&(S=r(q,l({component:"span"},N,{className:B(x.label,N==null?void 0:N.className),children:S}))),f(Qe,l({className:B(x.root,i),ownerState:I,ref:o},V,{children:[m.cloneElement(c,A),S,F&&f(Ye,{ownerState:I,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]}))}),et=Ze;function tt(e){return _("MuiFormGroup",e)}z("MuiFormGroup",["root","row","error"]);const ot=["className","row"],at=e=>{const{classes:t,row:o,error:a}=e;return T({root:["root",o&&"row",a&&"error"]},tt,t)},rt=v("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.row&&t.row]}})(({ownerState:e})=>l({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),nt=m.forwardRef(function(t,o){const a=j({props:t,name:"MuiFormGroup"}),{className:n,row:s=!1}=a,i=O(a,ot),u=Q(),c=le({props:a,muiFormControl:u,states:["error"]}),p=l({},a,{row:s,error:c.error}),h=at(p);return r(rt,l({className:B(h.root,n),ownerState:p,ref:o},i))}),st=nt;function it(e){return _("MuiSkeleton",e)}z("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const lt=["animation","className","component","height","style","variant","width"];let E=e=>e,oe,ae,re,ne;const ct=e=>{const{classes:t,variant:o,animation:a,hasChildren:n,width:s,height:i}=e;return T({root:["root",o,a,n&&"withChildren",n&&!s&&"fitContent",n&&!i&&"heightAuto"]},it,t)},dt=ce(oe||(oe=E`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),ut=ce(ae||(ae=E`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),pt=v("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const o=Ae(e.shape.borderRadius)||"px",a=Ue(e.shape.borderRadius);return l({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:H(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${a}${o}/${Math.round(a/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&te(re||(re=E`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),dt),({ownerState:e,theme:t})=>e.animation==="wave"&&te(ne||(ne=E`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),ut,(t.vars||t).palette.action.hover)),ht=m.forwardRef(function(t,o){const a=j({props:t,name:"MuiSkeleton"}),{animation:n="pulse",className:s,component:i="span",height:u,style:c,variant:p="text",width:h}=a,d=O(a,lt),b=l({},a,{animation:n,component:i,variant:p,hasChildren:!!d.children}),C=ct(b);return r(pt,l({as:i,ref:o,className:B(C.root,s),ownerState:b},d,{style:l({width:h,height:u},c)}))}),mt=ht;function gt(e){return _("MuiSwitch",e)}const ft=z("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),g=ft,bt=["className","color","edge","size","sx"],vt=e=>{const{classes:t,edge:o,size:a,color:n,checked:s,disabled:i}=e,u={root:["root",o&&`edge${k(o)}`,`size${k(a)}`],switchBase:["switchBase",`color${k(n)}`,s&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=T(u,gt,t);return l({},t,c)},wt=v("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${k(o.edge)}`],t[`size${k(o.size)}`]]}})(({ownerState:e})=>l({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${g.thumb}`]:{width:16,height:16},[`& .${g.switchBase}`]:{padding:4,[`&.${g.checked}`]:{transform:"translateX(16px)"}}})),kt=v(We,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${g.input}`]:t.input},o.color!=="default"&&t[`color${k(o.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${g.checked}`]:{transform:"translateX(20px)"},[`&.${g.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${g.checked} + .${g.track}`]:{opacity:.5},[`&.${g.disabled} + .${g.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${g.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>l({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${g.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${g.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?ke(e.palette[t.color].main,.62):Ce(e.palette[t.color].main,.55)}`}},[`&.${g.checked} + .${g.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Ct=v("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),xt=v("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),yt=m.forwardRef(function(t,o){const a=j({props:t,name:"MuiSwitch"}),{className:n,color:s="primary",edge:i=!1,size:u="medium",sx:c}=a,p=O(a,bt),h=l({},a,{color:s,edge:i,size:u}),d=vt(h),b=r(xt,{className:d.thumb,ownerState:h});return f(wt,{className:B(d.root,n),sx:c,ownerState:h,children:[r(kt,l({type:"checkbox",icon:b,checkedIcon:b,ref:o,ownerState:h},p,{classes:l({},d,{root:d.switchBase})})),r(Ct,{className:d.track,ownerState:h})]})}),St=yt;const $t="/econwish2023/assets/ntpu-stone-ed27072a.svg",Rt="/econwish2023/assets/gate-323adeed.svg",Ft="/econwish2023/assets/eagle-745aedff.svg",se="/econwish2023/assets/heart-lake-8583da2a.svg",ie=[{src:$t,style:{margin:"auto"}},{src:se,style:{margin:"0"}},{src:Rt,style:{margin:"0 0 10px 17px"}},{src:Ft,style:{margin:"0 0 9px 8px"}},{src:se,style:{margin:"0"}}];function Nt({variant:e,location:t}){return r("div",{className:"seal",style:t,children:r("div",{className:"seal-icon",children:r("img",{className:"seal-color",src:ie[e].src,style:ie[e].style})})})}const Bt=[{left:"-10px",bottom:"-50px",transform:"rotate(-45deg)"},{left:"-50px",bottom:"0px",transform:"rotate(-10deg)"},{left:"-64px",bottom:"15px",transform:"rotate(-42deg)"},{left:"120px",bottom:"-63px",transform:"rotate(-6deg)"},{left:"-63px",top:"-54px",transform:"rotate(-55deg)"}];function Pt({imgSrc:e,sealVariant:t,sealLocation:o}){return console.log(o),o=o?Bt[o]:{left:"-10px",bottom:"-50px",transform:"rotate(-45deg)"},f("div",{className:"stamp-holder",children:[r(It,{imgSrc:e}),r(Nt,{variant:t,location:o})]})}function It({imgSrc:e}){const[t,o]=m.useState(null);return m.useEffect(()=>{D.get(e,{responseType:"blob"}).then(a=>{const n=URL.createObjectURL(a.data);o(n)})},[e]),r("div",{className:"stamp",children:t?r(de,{duration:0,src:t}):r(mt,{variant:"rectangular",width:222,height:284})})}var Y={},Mt=ye;Object.defineProperty(Y,"__esModule",{value:!0});var pe=Y.default=void 0,Lt=Mt(xe()),_t=Se,zt=(0,Lt.default)((0,_t.jsx)("path",{d:"M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"}),"Notes");pe=Y.default=zt;const Ot="/econwish2023/assets/Notes-7ec21c82.svg",Tt="/econwish2023/assets/Picture-f75c652f.svg",At=v(St)(({theme:e})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url(${Ot})`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:e.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url(${Tt})`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));function Ut({onChange:e}){return console.log(pe),r(st,{onChange:e,children:r(K,{children:r(et,{control:r(At,{sx:{m:1},defaultChecked:!0})})})})}function qt({user:e}){const{name:t,grade:o,imgSrc:a,wish:n,id:s,sealVariant:i,sealLocation:u}=e,[c,p]=m.useState(!0);function h(){p(!1),console.log(i)}function d(){p(!0)}m.useEffect(()=>{D.get(a).then(C=>{console.log(C)})},[]);var b=c?r(jt,{imgSrc:a,sealVariant:i,sealLocation:u,name:t,grade:o,wish:n,onClick:h}):r(Dt,{imgSrc:a,wish:n,onClick:d});return f(ze,{className:"border-image",sx:{maxWidth:345,margin:"auto",height:587},children:[r("div",{id:`${s}`,className:"card-id"}),b]})}function Et({name:e,grade:t}){return f("div",{className:"sender",children:[r("div",{className:"label text-shadow",children:"From:"}),f("div",{className:"sender-info",children:[r("div",{className:"sender-name",children:r("div",{className:"sender-name-text text-shadow",children:e})}),r("div",{className:"sender-grade",children:r("div",{className:"sender-grade-text text-shadow",children:t})})]})]})}function jt({imgSrc:e,sealVariant:t,sealLocation:o,name:a,grade:n,wish:s,onClick:i}){return r(Oe,{children:f(ue,{spacing:0,children:[r(U,{sx:{height:350},children:r(Pt,{imgSrc:e,sealVariant:t,sealLocation:o})}),r(U,{mt:5,pl:3,children:r(Et,{name:a,grade:n})}),r(U,{mt:3,children:r(Te,{color:"primary",onClick:i,children:r(q,{noWrap:!0,sx:{width:"300px"},children:s})})})]})})}function Dt({imgSrc:e,wish:t,onClick:o}){const[a,n]=m.useState(!1);function s(){n(!a)}var i=a?1:.3,u=a?"hidden":"visible";const[c,p]=m.useState(e),h=e.replace(".png","s700.png");return m.useEffect(()=>{D.get(h,{responseType:"blob"}).then(d=>{const b=URL.createObjectURL(d.data);p(b)}).finally(()=>{console.log("keep old")})},[e]),f("div",{style:{height:"100%",position:"relative"},children:[c?r(de,{fit:"cover",style:{opacity:i},duration:0,src:c}):r(Skeleton,{variant:"rectangular",width:222,height:284}),r("div",{style:{position:"absolute",top:"0",height:"100%",visibility:u},children:r(ue,{sx:{height:"100%",justifyContent:"center"},children:r(K,{children:r(U,{children:r(q,{children:t})})})})}),r("div",{style:{position:"absolute",bottom:"0%",width:"100%"},children:r(K,{children:r(Ut,{onChange:s})})}),r($e,{"aria-label":"close",sx:{position:"absolute",color:d=>d.palette.grey[500],right:8,top:8},onClick:o,children:r(Re,{})})]})}function Gt(){const[e,t]=m.useState(null);m.useEffect(()=>{D.get(J.entryUrl).then(a=>{console.log(a),a.status===200&&t(a.data)})},[J]);let o=e?r(Ht,{users:Vt([...e])}):r("div",{style:{color:"black"},children:"Loading..."});return r("div",{className:"App",children:o})}function Vt(e){const t=Xt(e[0]),o=e.map(a=>Wt(a,t));return o.shift(),o}function Wt(e,t){return{name:e[t.name],grade:e[t.grade],imgSrc:e[t.imgSrc],wish:e[t.wish],id:e[t.id],sealVariant:e[t.sealVariant],sealLocation:e[t.sealLocation]}}function Xt(e){var t=Object();return e.map((o,a)=>{t[o]=a}),t.imgSrc=t.ThumbnailLink,t.name=t.Name,t.grade=t.Grade,t.wish=t.Wish,t.sealVariant=t.sealVariant,t.sealLocation=t.sealLocation,t}function Ht({users:e}){window.autocompleteOptions=[],e.forEach(a=>{window.autocompleteOptions.push({label:a.name+" - "+a.grade,id:a.id})});function t(a){const n=a.map(i=>i.name).findIndex(i=>i==="李叢禎");a=[...a];const s=a.splice(n,1)[0];return a.reverse(),[s,...a]}const o=t(e).map((a,n)=>f(Fe,{className:a.grade,children:[r(qt,{user:a}),r(Ne,{shareLink:J.appUrl+"#"+a.id,title:"來自 "+a.name+" - "+a.grade+" 的祝賀"})]},n));return m.useEffect(()=>{Kt()},[]),f("div",{children:[r(Be,{autocompleteOptions:window.autocompleteOptions}),f("div",{className:"main2",children:[r(Pe,{children:f(Ie,{children:[o,r("div",{className:"endCard"})]})}),r(Me,{autocompleteOptions})]})]})}function Kt(){const e=window.location.hash;if(e){const t=e.slice(1),o=document.getElementById(t);o&&o.scrollIntoView({block:"start",inline:"nearest"})}}Le.createRoot(document.getElementById("root")).render(r(_e.StrictMode,{children:r(Gt,{})}));
